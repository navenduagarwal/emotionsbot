!function(a){function q(b,c){var d;return a.Notification?d=new a.Notification(b,{icon:l(c.icon)?c.icon:c.icon.x32,body:c.body||h,tag:c.tag||h}):a.webkitNotifications?(d=a.webkitNotifications.createNotification(c.icon,b,c.body),d.show()):navigator.mozNotification?(d=navigator.mozNotification.createNotification(b,c.body,c.icon),d.show()):a.external&&a.external.msIsSiteMode()&&(a.external.msSiteModeClearIconOverlay(),a.external.msSiteModeSetIconOverlay(l(c.icon)?c.icon:c.icon.x16,b),a.external.msSiteModeActivate(),d={ieVerification:j+1}),d}function r(b){return{close:function(){b&&(b.close?b.close():a.external&&a.external.msIsSiteMode()&&b.ieVerification===j&&a.external.msSiteModeClearIconOverlay())}}}function s(b){if(i){var c=k(b)?b:o;a.webkitNotifications&&a.webkitNotifications.checkPermission?a.webkitNotifications.requestPermission(c):a.Notification&&a.Notification.requestPermission&&a.Notification.requestPermission(c)}}function t(){var d;if(i)return a.Notification&&a.Notification.permissionLevel?d=a.Notification.permissionLevel():a.webkitNotifications&&a.webkitNotifications.checkPermission?d=e[a.webkitNotifications.checkPermission()]:navigator.mozNotification?d=c:a.Notification&&a.Notification.permission?d=a.Notification.permission:a.external&&void 0!==a.external.msIsSiteMode()&&(d=a.external.msIsSiteMode()?c:b),d}function u(a){return a&&m(a)&&n(p,a),p}function v(){return!p.pageVisibility||(document.hidden||document.msHidden||document.mozHidden||document.webkitHidden)}function w(b,d){var e,f;return i&&v()&&l(b)&&d&&(l(d.icon)||m(d.icon))&&t()===c&&(e=q(b,d)),f=r(e),p.autoClose&&e&&!e.ieVerification&&e.addEventListener&&e.addEventListener("show",function(){var b=f;a.setTimeout(function(){b.close()},p.autoClose)}),f}var b="default",c="granted",d="denied",e=[c,b,d],f={pageVisibility:!1,autoClose:0},g={},h="",i=function(){var b=!1;try{b=!!(a.Notification||a.webkitNotifications||navigator.mozNotification||a.external&&void 0!==a.external.msIsSiteMode())}catch(a){}return b}(),j=Math.floor(10*Math.random()+1),k=function(a){return a&&a.constructor===Function},l=function(a){return a&&a.constructor===String},m=function(a){return a&&a.constructor===Object},n=function(a,b){var c,d;for(c in b)d=b[c],c in a&&(a[c]===d||c in g&&g[c]===d)||(a[c]=d);return a},o=function(){},p=f;a.notify={PERMISSION_DEFAULT:b,PERMISSION_GRANTED:c,PERMISSION_DENIED:d,isSupported:i,config:u,createNotification:w,permissionLevel:t,requestPermission:s},k(Object.seal)&&Object.seal(a.notify)}(window);